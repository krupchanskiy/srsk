<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–†–°–ö ‚Äî –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</title>
    <style>
        :root {
            --bg: #0f0f0f;
            --surface: #1a1a1a;
            --surface-hover: #252525;
            --border: #333;
            --text: #e0e0e0;
            --text-muted: #888;
            --kitchen: #f49800;
            --housing: #8b5cf6;
            --common: #10b981;
            --problem: #ef4444;
            --opportunity: #3b82f6;
            --tech: #06b6d4;
            --ai: #a855f7;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }
        .container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        .sidebar {
            background: var(--surface);
            border-right: 1px solid var(--border);
            padding: 20px;
            overflow-y: auto;
            max-height: 100vh;
            position: sticky;
            top: 0;
        }
        .sidebar h1 {
            font-size: 18px;
            margin-bottom: 4px;
        }
        .sidebar .subtitle {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 20px;
        }
        .view-tabs {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin-bottom: 20px;
        }
        .view-tab {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 10px 12px;
            color: var(--text);
            cursor: pointer;
            text-align: left;
            font-size: 13px;
            transition: all 0.2s;
        }
        .view-tab:hover { background: var(--surface-hover); }
        .view-tab.active {
            background: var(--kitchen);
            border-color: var(--kitchen);
            color: #000;
            font-weight: 600;
        }
        .view-tab[data-color="housing"].active { background: var(--housing); border-color: var(--housing); color: #fff; }
        .view-tab[data-color="common"].active { background: var(--common); border-color: var(--common); color: #fff; }
        .view-tab[data-color="problem"].active { background: var(--problem); border-color: var(--problem); color: #fff; }
        .view-tab[data-color="tech"].active { background: var(--tech); border-color: var(--tech); color: #000; }
        .view-tab[data-color="ai"].active { background: var(--ai); border-color: var(--ai); color: #fff; }
        .filter-section { margin-bottom: 20px; }
        .filter-section h3 {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }
        .filter-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 0;
            cursor: pointer;
        }
        .filter-item input { accent-color: var(--kitchen); }
        .filter-item label { font-size: 13px; cursor: pointer; }
        .color-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            flex-shrink: 0;
            display: inline-block;
        }
        .stats {
            background: var(--surface-hover);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
        }
        .stat-row {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            padding: 4px 0;
        }
        .stat-row .value { color: var(--kitchen); font-weight: 600; }
        .main {
            padding: 24px;
            overflow-y: auto;
        }
        .main h2 { font-size: 24px; margin-bottom: 8px; }
        .main .description { color: var(--text-muted); margin-bottom: 24px; font-size: 14px; }
        .sitemap {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .module-card {
            background: var(--surface);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        .module-header {
            padding: 16px;
            font-weight: 600;
            font-size: 16px;
        }
        .module-header.kitchen { background: var(--kitchen); color: #000; }
        .module-header.housing { background: var(--housing); color: #fff; }
        .module-header.common { background: var(--common); color: #fff; }
        .module-body { padding: 16px; }
        .section-title {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 8px;
            margin-top: 12px;
        }
        .section-title:first-child { margin-top: 0; }
        .page-list { list-style: none; }
        .page-item {
            padding: 8px 12px;
            margin: 4px 0;
            background: var(--surface-hover);
            border-radius: 6px;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
        }
        .page-item:hover { transform: translateX(4px); }
        .page-path { font-size: 11px; color: var(--text-muted); font-family: monospace; }
        .process-container { display: flex; flex-direction: column; gap: 32px; }
        .process-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid var(--border);
        }
        .process-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .process-subtitle { color: var(--text-muted); font-size: 13px; margin-bottom: 20px; }
        .process-steps { display: flex; flex-wrap: wrap; gap: 12px; }
        .process-step {
            background: var(--surface-hover);
            border-radius: 8px;
            padding: 16px;
            flex: 1;
            min-width: 160px;
            position: relative;
        }
        .step-number {
            position: absolute;
            top: -8px;
            left: -8px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }
        .step-number.kitchen { background: var(--kitchen); color: #000; }
        .step-number.housing { background: var(--housing); color: #fff; }
        .step-number.common { background: var(--common); color: #fff; }
        .step-title { font-weight: 600; font-size: 14px; margin-bottom: 6px; }
        .step-page { font-size: 11px; color: var(--text-muted); font-family: monospace; margin-bottom: 6px; }
        .step-details { font-size: 12px; color: var(--text-muted); }
        .roles-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .role-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
        }
        .role-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 12px;
        }
        .role-name { font-size: 16px; font-weight: 600; margin-bottom: 8px; }
        .role-tasks { list-style: none; }
        .role-tasks li { padding: 4px 0; font-size: 13px; color: var(--text-muted); }
        .role-tasks li::before { content: "‚Üí "; color: var(--kitchen); }
        .entities-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .entity-group {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
        }
        .entity-group-title { font-size: 14px; font-weight: 600; margin-bottom: 16px; }
        .entity-card {
            background: var(--surface-hover);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }
        .entity-name { font-family: monospace; font-size: 13px; font-weight: 600; margin-bottom: 6px; color: var(--kitchen); }
        .entity-fields { font-size: 11px; color: var(--text-muted); line-height: 1.5; }
        .problems-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        .problem-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--problem);
        }
        .problem-card.opportunity { border-left-color: var(--opportunity); }
        .problem-card.notpriority { border-left-color: var(--text-muted); opacity: 0.7; }
        .problem-header { display: flex; justify-content: space-between; margin-bottom: 12px; }
        .problem-title { font-size: 15px; font-weight: 600; }
        .problem-priority {
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--problem);
            color: #fff;
        }
        .problem-priority.critical { background: #dc2626; animation: pulse 2s infinite; }
        .problem-priority.medium { background: #f59e0b; }
        .problem-priority.low { background: var(--text-muted); }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .problem-card.critical { border-left-color: #dc2626; border-left-width: 6px; }
        .problem-description { font-size: 13px; color: var(--text-muted); margin-bottom: 12px; }
        .problem-solution { font-size: 12px; padding: 10px; background: var(--surface-hover); border-radius: 6px; }
        .problem-solution strong { color: var(--common); }
        .tech-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .tech-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
        }
        .tech-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }
        .tech-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .tech-icon.backend { background: var(--tech); color: #000; }
        .tech-icon.frontend { background: var(--housing); color: #fff; }
        .tech-icon.ai { background: var(--ai); color: #fff; }
        .tech-icon.infra { background: var(--common); color: #fff; }
        .tech-card-title { font-size: 16px; font-weight: 600; }
        .tech-list { list-style: none; }
        .tech-list li {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 13px;
            border-bottom: 1px solid var(--border);
        }
        .tech-list li:last-child { border-bottom: none; }
        .tech-list .tech-name { font-weight: 500; }
        .tech-list .tech-reason { color: var(--text-muted); font-size: 11px; }
        .releases-container { display: flex; flex-direction: column; gap: 12px; }
        .release-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 16px 20px;
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .release-version {
            font-family: monospace;
            font-size: 14px;
            font-weight: 700;
            color: var(--tech);
            min-width: 40px;
        }
        .release-name { font-weight: 600; font-size: 14px; min-width: 180px; }
        .release-tasks { flex: 1; font-size: 12px; color: var(--text-muted); }
        .release-time {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 4px;
            background: var(--surface-hover);
            white-space: nowrap;
        }
        .ai-features { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; }
        .ai-feature-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--ai);
        }
        .ai-feature-header { margin-bottom: 12px; }
        .ai-feature-title { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
        .ai-feature-pattern { font-size: 11px; color: var(--ai); text-transform: uppercase; letter-spacing: 0.5px; }
        .ai-feature-desc { font-size: 13px; color: var(--text-muted); margin-bottom: 12px; }
        .ai-feature-details {
            background: var(--surface-hover);
            border-radius: 8px;
            padding: 12px;
            font-size: 12px;
        }
        .ai-feature-details strong { color: var(--common); }
        .timeline-total {
            background: var(--tech);
            color: #000;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
        }
        .timeline-total .big { font-size: 32px; font-weight: 700; }
        .timeline-total .label { font-size: 14px; opacity: 0.8; }
        .arch-diagram {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid var(--border);
            margin-bottom: 32px;
            overflow-x: auto;
        }
        .arch-diagram svg {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
        }
        .arch-layer {
            fill: var(--surface-hover);
            stroke: var(--border);
            stroke-width: 1;
            rx: 8;
            cursor: pointer;
            transition: all 0.2s;
        }
        .arch-layer:hover { fill: var(--border); }
        .arch-box {
            fill: var(--surface);
            stroke: var(--border);
            stroke-width: 1;
            rx: 6;
            cursor: pointer;
            transition: all 0.3s;
        }
        .arch-box:hover { stroke-width: 2; }
        .arch-box.client { stroke: var(--housing); }
        .arch-box.client:hover { fill: rgba(139, 92, 246, 0.2); }
        .arch-box.nginx { stroke: var(--common); }
        .arch-box.nginx:hover { fill: rgba(16, 185, 129, 0.2); }
        .arch-box.rails { stroke: var(--problem); }
        .arch-box.rails:hover { fill: rgba(239, 68, 68, 0.2); }
        .arch-box.controller { stroke: var(--kitchen); }
        .arch-box.controller:hover { fill: rgba(244, 152, 0, 0.2); }
        .arch-box.model { stroke: var(--housing); }
        .arch-box.model:hover { fill: rgba(139, 92, 246, 0.2); }
        .arch-box.ai { stroke: var(--ai); }
        .arch-box.ai:hover { fill: rgba(168, 85, 247, 0.2); }
        .arch-box.job { stroke: var(--opportunity); }
        .arch-box.job:hover { fill: rgba(59, 130, 246, 0.2); }
        .arch-box.db { stroke: var(--tech); }
        .arch-box.db:hover { fill: rgba(6, 182, 212, 0.2); }
        .arch-box.external { stroke: var(--common); }
        .arch-box.external:hover { fill: rgba(16, 185, 129, 0.2); }
        .arch-text { fill: var(--text); font-size: 11px; font-family: system-ui; pointer-events: none; }
        .arch-text.title { font-size: 13px; font-weight: 600; }
        .arch-text.small { font-size: 9px; fill: var(--text-muted); }
        .arch-arrow { stroke: var(--text-muted); stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
        .arch-arrow.data { stroke: var(--tech); stroke-dasharray: 4 2; }
        .arch-arrow.ai { stroke: var(--ai); }
        .arch-tooltip {
            position: fixed;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px 16px;
            font-size: 12px;
            max-width: 280px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .arch-tooltip.visible { opacity: 1; }
        .arch-tooltip-title { font-weight: 600; margin-bottom: 4px; color: var(--tech); }
        .arch-tooltip-desc { color: var(--text-muted); line-height: 1.4; }
        .prompt-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            margin-top: 24px;
            border: 1px solid var(--border);
        }
        .prompt-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .prompt-header h3 { font-size: 14px; color: var(--text-muted); }
        .copy-btn {
            background: var(--kitchen);
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            color: #000;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
        }
        .copy-btn.copied { background: var(--common); color: #fff; }
        .prompt-output {
            background: var(--bg);
            border-radius: 8px;
            padding: 16px;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .legend { display: flex; gap: 16px; margin-bottom: 20px; flex-wrap: wrap; }
        .legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-muted); }
        .view { display: none; }
        .view.active { display: block; }
        @media (max-width: 768px) {
            .container { grid-template-columns: 1fr; }
            .sidebar { position: static; max-height: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h1>–®–†–°–ö</h1>
            <div class="subtitle">Sri Rupa Seva Kunja ‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—à—Ä–∞–º–æ–º</div>
            <div class="view-tabs" id="viewTabs">
                <button class="view-tab active" data-view="sitemap" data-color="kitchen">–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞</button>
                <button class="view-tab" data-view="processes" data-color="housing">–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã</button>
                <button class="view-tab" data-view="roles" data-color="common">–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>
                <button class="view-tab" data-view="entities" data-color="kitchen">–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö</button>
                <button class="view-tab" data-view="problems" data-color="problem">–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</button>
                <button class="view-tab" data-view="architecture" data-color="tech">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</button>
            </div>
            <div class="filter-section" id="sitemapFilters">
                <h3>–§–∏–ª—å—Ç—Ä—ã –º–æ–¥—É–ª–µ–π</h3>
                <div class="filter-item">
                    <input type="checkbox" id="filterKitchen" checked>
                    <span class="color-dot" style="background: var(--kitchen)"></span>
                    <label for="filterKitchen">Kitchen (–ö—É—Ö–Ω—è)</label>
                </div>
                <div class="filter-item">
                    <input type="checkbox" id="filterHousing" checked>
                    <span class="color-dot" style="background: var(--housing)"></span>
                    <label for="filterHousing">Housing (–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ)</label>
                </div>
                <div class="filter-item">
                    <input type="checkbox" id="filterCommon" checked>
                    <span class="color-dot" style="background: var(--common)"></span>
                    <label for="filterCommon">–û–±—â–µ–µ (–ê—à—Ä–∞–º)</label>
                </div>
            </div>
            <div class="stats">
                <div class="stat-row"><span>HTML —Å—Ç—Ä–∞–Ω–∏—Ü</span><span class="value">45</span></div>
                <div class="stat-row"><span>–¢–∞–±–ª–∏—Ü –ë–î</span><span class="value">34</span></div>
                <div class="stat-row"><span>SQL –º–∏–≥—Ä–∞—Ü–∏–π</span><span class="value">97+</span></div>
                <div class="stat-row"><span>RLS –ø–æ–ª–∏—Ç–∏–∫</span><span class="value">163</span></div>
                <div class="stat-row"><span>–†–µ—Ü–µ–ø—Ç–æ–≤</span><span class="value">129</span></div>
                <div class="stat-row"><span>–Ø–∑—ã–∫–æ–≤</span><span class="value">3 (RU/EN/HI)</span></div>
            </div>
            <div style="font-size: 11px; color: var(--text-muted);">
                <strong>Production:</strong><br>
                <a href="https://in.rupaseva.com" target="_blank" style="color: var(--kitchen)">in.rupaseva.com</a>
            </div>
        </aside>
        <main class="main">
            <div id="sitemapView" class="view active">
                <h2>–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞</h2>
                <p class="description">–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∏—Å—Ç–µ–º—ã, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –º–æ–¥—É–ª—è–º.</p>
                <div class="legend">
                    <div class="legend-item"><span class="color-dot" style="background: var(--kitchen)"></span>Kitchen ‚Äî –∫—É—Ö–Ω—è –∏ —Å–∫–ª–∞–¥</div>
                    <div class="legend-item"><span class="color-dot" style="background: var(--housing)"></span>Housing ‚Äî –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ</div>
                    <div class="legend-item"><span class="color-dot" style="background: var(--common)"></span>–û–±—â–µ–µ ‚Äî —Ä–µ—Ç—Ä–∏—Ç—ã</div>
                </div>
                <div class="sitemap" id="sitemapGrid"></div>
            </div>
            <div id="processesView" class="view">
                <h2>–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã</h2>
                <p class="description">–ö–ª—é—á–µ–≤—ã–µ —Ü–∏–∫–ª—ã —Ä–∞–±–æ—Ç—ã –∞—à—Ä–∞–º–∞.</p>
                <div class="process-container" id="processesContainer"></div>
            </div>
            <div id="rolesView" class="view">
                <h2>–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
                <p class="description">–ö—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç.</p>
                <div class="roles-grid" id="rolesGrid"></div>
            </div>
            <div id="entitiesView" class="view">
                <h2>–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö</h2>
                <p class="description">–ö–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.</p>
                <div class="entities-container" id="entitiesContainer"></div>
            </div>
            <div id="problemsView" class="view">
                <h2>–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</h2>
                <p class="description">–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è.</p>
                <div class="problems-grid" id="problemsGrid"></div>
            </div>
            <div id="architectureView" class="view">
                <h2>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
                <p class="description">–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–∞ —Ç–µ–∫—É—â–µ–º —Å—Ç–µ–∫–µ (Vanilla JS + Supabase). Rails ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è.</p>

                <div class="arch-diagram" id="archDiagram">
                    <svg viewBox="0 0 720 380" id="archSvg">
                        <defs>
                            <marker id="arrowhead" markerWidth="6" markerHeight="5" refX="6" refY="2.5" orient="auto">
                                <polygon points="0 0, 6 2.5, 0 5" fill="#888"/>
                            </marker>
                        </defs>

                        <!-- ==================== LEFT SIDE: –°–ï–ô–ß–ê–° ==================== -->

                        <!-- Title: –°–ï–ô–ß–ê–° -->
                        <rect x="10" y="8" width="330" height="24" fill="rgba(239,68,68,0.15)" stroke="#ef4444" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="175" y="24" text-anchor="middle" style="font-size:12px;font-weight:700;fill:#ef4444">üìç –°–ï–ô–ß–ê–°</text>

                        <!-- Clients row -->
                        <rect x="50" y="42" width="60" height="22" fill="rgba(139,92,246,0.15)" stroke="#8b5cf6" stroke-width="1" rx="4" data-box="now-client"/>
                        <text class="arch-text" x="80" y="56" text-anchor="middle" style="font-size:8px">–†–µ—Å–µ–ø—à–µ–Ω</text>
                        <rect x="115" y="42" width="50" height="22" fill="rgba(244,152,0,0.15)" stroke="#f49800" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="140" y="56" text-anchor="middle" style="font-size:8px">–ü–æ–≤–∞—Ä</text>
                        <rect x="170" y="42" width="60" height="22" fill="rgba(244,152,0,0.15)" stroke="#f49800" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="200" y="56" text-anchor="middle" style="font-size:8px">–ö–ª–∞–¥–æ–≤—â–∏–∫</text>
                        <rect x="235" y="42" width="65" height="22" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="267" y="56" text-anchor="middle" style="font-size:8px">–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä</text>

                        <!-- Arrow to GitHub Pages -->
                        <path class="arch-arrow" d="M 175 64 L 175 76"/>

                        <!-- GitHub Pages -->
                        <rect x="10" y="76" width="330" height="100" fill="var(--surface-hover)" stroke="var(--border)" stroke-width="1" rx="6" data-box="now-github"/>
                        <text class="arch-text small" x="16" y="90" style="font-size:9px;fill:var(--text-muted)">GITHUB PAGES (static)</text>

                        <!-- HTML + JS -->
                        <rect x="20" y="98" width="150" height="32" fill="rgba(244,152,0,0.1)" stroke="#f49800" stroke-width="1" rx="4" data-box="now-html"/>
                        <text class="arch-text" x="95" y="112" text-anchor="middle" style="font-size:9px;font-weight:600">45 HTML —Å—Ç—Ä–∞–Ω–∏—Ü</text>
                        <text class="arch-text small" x="95" y="124" text-anchor="middle" style="font-size:7px;fill:var(--text-muted)">Vanilla JS + DaisyUI</text>

                        <!-- CDN dependencies -->
                        <rect x="180" y="98" width="150" height="32" fill="rgba(239,68,68,0.1)" stroke="#ef4444" stroke-width="1" rx="4" data-box="now-cdn"/>
                        <text class="arch-text" x="255" y="112" text-anchor="middle" style="font-size:9px;font-weight:600;fill:#ef4444">‚ö†Ô∏è CDN –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</text>
                        <text class="arch-text small" x="255" y="124" text-anchor="middle" style="font-size:7px;fill:var(--text-muted)">Tailwind, Supabase, DaisyUI</text>

                        <!-- JS files -->
                        <rect x="20" y="138" width="70" height="28" fill="var(--surface)" stroke="var(--border)" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="55" y="156" text-anchor="middle" style="font-size:7px">Layout.js</text>
                        <rect x="95" y="138" width="60" height="28" fill="var(--surface)" stroke="var(--border)" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="125" y="156" text-anchor="middle" style="font-size:7px">Cache.js</text>
                        <rect x="160" y="138" width="60" height="28" fill="var(--surface)" stroke="var(--border)" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="190" y="156" text-anchor="middle" style="font-size:7px">Utils.js</text>
                        <rect x="225" y="138" width="105" height="28" fill="rgba(239,68,68,0.1)" stroke="#ef4444" stroke-width="1" rx="4" data-box="now-onclick"/>
                        <text class="arch-text" x="277" y="152" text-anchor="middle" style="font-size:7px;fill:#ef4444">756 onclick</text>
                        <text class="arch-text small" x="277" y="162" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">‚ö†Ô∏è —Ç–µ—Ö.–¥–æ–ª–≥</text>

                        <!-- Arrow to Supabase -->
                        <path class="arch-arrow" d="M 175 176 L 175 188"/>

                        <!-- Supabase -->
                        <rect x="10" y="188" width="330" height="90" fill="var(--surface-hover)" stroke="var(--border)" stroke-width="1" rx="6" data-box="now-supabase"/>
                        <text class="arch-text small" x="16" y="202" style="font-size:9px;fill:var(--tech)">SUPABASE</text>

                        <rect x="20" y="210" width="95" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4" data-box="now-postgres"/>
                        <text class="arch-text" x="67" y="222" text-anchor="middle" style="font-size:8px">PostgreSQL</text>
                        <text class="arch-text small" x="67" y="232" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">34 —Ç–∞–±–ª–∏—Ü—ã</text>

                        <rect x="120" y="210" width="95" height="28" fill="rgba(239,68,68,0.1)" stroke="#ef4444" stroke-width="1" rx="4" data-box="now-rls"/>
                        <text class="arch-text" x="167" y="222" text-anchor="middle" style="font-size:8px;fill:#ef4444">163 RLS</text>
                        <text class="arch-text small" x="167" y="232" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">‚ö†Ô∏è —Ö–∞–æ—Å</text>

                        <rect x="220" y="210" width="55" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="247" y="228" text-anchor="middle" style="font-size:7px">Auth</text>

                        <rect x="280" y="210" width="55" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="307" y="228" text-anchor="middle" style="font-size:7px">Storage</text>

                        <!-- Unused features -->
                        <rect x="20" y="244" width="150" height="26" fill="rgba(136,136,136,0.1)" stroke="#666" stroke-width="1" stroke-dasharray="4 2" rx="4" data-box="now-unused"/>
                        <text class="arch-text" x="95" y="260" text-anchor="middle" style="font-size:8px;fill:#666">Realtime ‚ùå Edge Functions ‚ùå</text>

                        <rect x="180" y="244" width="150" height="26" fill="rgba(136,136,136,0.1)" stroke="#666" stroke-width="1" stroke-dasharray="4 2" rx="4"/>
                        <text class="arch-text" x="255" y="260" text-anchor="middle" style="font-size:8px;fill:#666">Telegram ‚ùå AI ‚ùå</text>

                        <!-- Bottom label -->
                        <text class="arch-text" x="175" y="295" text-anchor="middle" style="font-size:9px;fill:var(--text-muted)">–†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å —Ç–µ—Ö–¥–æ–ª–≥</text>

                        <!-- ==================== ARROW BETWEEN ==================== -->
                        <path d="M 355 170 L 375 170" stroke="var(--common)" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                        <text class="arch-text" x="365" y="160" text-anchor="middle" style="font-size:10px;fill:var(--common)">‚Üí</text>
                        <text class="arch-text small" x="365" y="190" text-anchor="middle" style="font-size:7px;fill:var(--text-muted)">~1 –Ω–µ–¥</text>

                        <!-- ==================== RIGHT SIDE: –ü–û–°–õ–ï ==================== -->

                        <!-- Title: –ü–û–°–õ–ï -->
                        <rect x="380" y="8" width="330" height="24" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="545" y="24" text-anchor="middle" style="font-size:12px;font-weight:700;fill:#10b981">‚úÖ –ü–û–°–õ–ï –£–õ–£–ß–®–ï–ù–ò–ô</text>

                        <!-- Clients row -->
                        <rect x="420" y="42" width="60" height="22" fill="rgba(139,92,246,0.15)" stroke="#8b5cf6" stroke-width="1" rx="4" data-box="after-client"/>
                        <text class="arch-text" x="450" y="56" text-anchor="middle" style="font-size:8px">–†–µ—Å–µ–ø—à–µ–Ω</text>
                        <rect x="485" y="42" width="50" height="22" fill="rgba(244,152,0,0.15)" stroke="#f49800" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="510" y="56" text-anchor="middle" style="font-size:8px">–ü–æ–≤–∞—Ä</text>
                        <rect x="540" y="42" width="60" height="22" fill="rgba(244,152,0,0.15)" stroke="#f49800" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="570" y="56" text-anchor="middle" style="font-size:8px">–ö–ª–∞–¥–æ–≤—â–∏–∫</text>
                        <rect x="605" y="42" width="65" height="22" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="637" y="56" text-anchor="middle" style="font-size:8px">–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä</text>

                        <!-- Arrow to GitHub Pages -->
                        <path class="arch-arrow" d="M 545 64 L 545 76"/>

                        <!-- GitHub Pages with Vite -->
                        <rect x="380" y="76" width="330" height="100" fill="var(--surface-hover)" stroke="var(--common)" stroke-width="2" rx="6" data-box="after-github"/>
                        <text class="arch-text small" x="386" y="90" style="font-size:9px;fill:var(--common)">GITHUB PAGES + Vite (–æ–ø—Ü.)</text>

                        <!-- HTML + TS -->
                        <rect x="390" y="98" width="150" height="32" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-vite"/>
                        <text class="arch-text" x="465" y="112" text-anchor="middle" style="font-size:9px;font-weight:600;fill:#10b981">45 —Å—Ç—Ä–∞–Ω–∏—Ü</text>
                        <text class="arch-text small" x="465" y="124" text-anchor="middle" style="font-size:7px;fill:var(--text-muted)">TypeScript + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</text>

                        <!-- No CDN -->
                        <rect x="550" y="98" width="150" height="32" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-bundle"/>
                        <text class="arch-text" x="625" y="112" text-anchor="middle" style="font-size:9px;font-weight:600;fill:#10b981">‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π bundle</text>
                        <text class="arch-text small" x="625" y="124" text-anchor="middle" style="font-size:7px;fill:var(--text-muted)">npm install, no CDN</text>

                        <!-- JS files refactored -->
                        <rect x="390" y="138" width="70" height="28" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="425" y="156" text-anchor="middle" style="font-size:7px">Layout.ts</text>
                        <rect x="465" y="138" width="60" height="28" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="495" y="156" text-anchor="middle" style="font-size:7px">Cache.ts</text>
                        <rect x="530" y="138" width="60" height="28" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="560" y="156" text-anchor="middle" style="font-size:7px">Utils.ts</text>
                        <rect x="595" y="138" width="105" height="28" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-events"/>
                        <text class="arch-text" x="647" y="152" text-anchor="middle" style="font-size:7px;fill:#10b981">data-action</text>
                        <text class="arch-text small" x="647" y="162" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">‚úÖ event delegation</text>

                        <!-- Arrow to Supabase -->
                        <path class="arch-arrow" d="M 545 176 L 545 188"/>

                        <!-- Supabase improved -->
                        <rect x="380" y="188" width="330" height="90" fill="var(--surface-hover)" stroke="var(--common)" stroke-width="2" rx="6" data-box="after-supabase"/>
                        <text class="arch-text small" x="386" y="202" style="font-size:9px;fill:var(--tech)">SUPABASE</text>

                        <rect x="390" y="210" width="95" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="437" y="222" text-anchor="middle" style="font-size:8px">PostgreSQL</text>
                        <text class="arch-text small" x="437" y="232" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">34 —Ç–∞–±–ª–∏—Ü—ã</text>

                        <rect x="490" y="210" width="95" height="28" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-rls"/>
                        <text class="arch-text" x="537" y="222" text-anchor="middle" style="font-size:8px;fill:#10b981">‚úÖ RLS</text>
                        <text class="arch-text small" x="537" y="232" text-anchor="middle" style="font-size:6px;fill:var(--text-muted)">–∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–æ</text>

                        <rect x="590" y="210" width="55" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="617" y="228" text-anchor="middle" style="font-size:7px">Auth</text>

                        <rect x="650" y="210" width="55" height="28" fill="rgba(6,182,212,0.15)" stroke="#06b6d4" stroke-width="1" rx="4"/>
                        <text class="arch-text" x="677" y="228" text-anchor="middle" style="font-size:7px">Storage</text>

                        <!-- Used features -->
                        <rect x="390" y="244" width="90" height="26" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-realtime"/>
                        <text class="arch-text" x="435" y="260" text-anchor="middle" style="font-size:8px;fill:#10b981">‚úÖ Realtime</text>

                        <rect x="485" y="244" width="100" height="26" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-edge"/>
                        <text class="arch-text" x="535" y="260" text-anchor="middle" style="font-size:8px;fill:#10b981">‚úÖ Edge Func</text>

                        <rect x="590" y="244" width="55" height="26" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1" rx="4" data-box="after-telegram"/>
                        <text class="arch-text" x="617" y="260" text-anchor="middle" style="font-size:8px;fill:#10b981">‚úÖ TG</text>

                        <rect x="650" y="244" width="55" height="26" fill="rgba(168,85,247,0.15)" stroke="#a855f7" stroke-width="1" stroke-dasharray="4 2" rx="4" data-box="after-ai"/>
                        <text class="arch-text" x="677" y="260" text-anchor="middle" style="font-size:8px;fill:#a855f7">AI?</text>

                        <!-- Bottom label -->
                        <text class="arch-text" x="545" y="295" text-anchor="middle" style="font-size:9px;fill:var(--common)">–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + –Ω–æ–≤—ã–µ —Ñ–∏—á–∏</text>

                        <!-- ==================== LEGEND ==================== -->
                        <rect x="10" y="310" width="700" height="60" fill="var(--surface)" stroke="var(--border)" stroke-width="1" rx="6"/>
                        <text class="arch-text" x="20" y="328" style="font-size:9px;font-weight:600">–õ–µ–≥–µ–Ω–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:</text>

                        <rect x="20" y="338" width="12" height="12" fill="rgba(239,68,68,0.3)" stroke="#ef4444" stroke-width="1" rx="2"/>
                        <text class="arch-text small" x="36" y="348" style="font-size:8px">–ü—Ä–æ–±–ª–µ–º–∞ / —Ç–µ—Ö–¥–æ–ª–≥</text>

                        <rect x="140" y="338" width="12" height="12" fill="rgba(16,185,129,0.3)" stroke="#10b981" stroke-width="1" rx="2"/>
                        <text class="arch-text small" x="156" y="348" style="font-size:8px">–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ / –¥–æ–±–∞–≤–ª–µ–Ω–æ</text>

                        <rect x="290" y="338" width="12" height="12" fill="rgba(136,136,136,0.2)" stroke="#666" stroke-width="1" stroke-dasharray="3 2" rx="2"/>
                        <text class="arch-text small" x="306" y="348" style="font-size:8px">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</text>

                        <rect x="420" y="338" width="12" height="12" fill="rgba(168,85,247,0.3)" stroke="#a855f7" stroke-width="1" stroke-dasharray="3 2" rx="2"/>
                        <text class="arch-text small" x="436" y="348" style="font-size:8px">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ / –±—É–¥—É—â–µ–µ</text>

                        <text class="arch-text small" x="560" y="348" style="font-size:8px;fill:var(--text-muted)">–°—Ä–æ–∫: –§–∞–∑–∞ 1+2 ~2 –¥–Ω—è, –§–∞–∑–∞ 3 ~2-3 –¥–Ω—è (–æ–ø—Ü.)</text>
                    </svg>
                </div>
                <div class="arch-tooltip" id="archTooltip">
                    <div class="arch-tooltip-title" id="tooltipTitle"></div>
                    <div class="arch-tooltip-desc" id="tooltipDesc"></div>
                </div>

                <h3 style="font-size: 16px; margin: 24px 0 16px;">–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</h3>
                <div class="tech-grid" id="techGrid"></div>
                <h3 style="font-size: 16px; margin: 32px 0 16px;">AI-—Ñ–∏—á–∏</h3>
                <div class="ai-features" id="aiFeatures"></div>
                <h3 style="font-size: 16px; margin: 32px 0 16px;">–ü–ª–∞–Ω —Ä–µ–ª–∏–∑–æ–≤</h3>
                <div class="releases-container" id="releasesContainer"></div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-top: 20px;">
                    <div class="timeline-total" style="background: var(--problem);">
                        <div class="big">~1 –¥–µ–Ω—å</div>
                        <div class="label">–§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è</div>
                    </div>
                    <div class="timeline-total" style="background: var(--common);">
                        <div class="big">~1 –¥–µ–Ω—å</div>
                        <div class="label">–§–∞–∑–∞ 2: Quick Wins</div>
                    </div>
                    <div class="timeline-total" style="background: var(--ai);">
                        <div class="big">~2-3 –¥–Ω—è</div>
                        <div class="label">–§–∞–∑–∞ 3: Vite+TS (–æ–ø—Ü.)</div>
                    </div>
                </div>
            </div>
            <div class="prompt-section">
                <div class="prompt-header">
                    <h3>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç</h3>
                    <button class="copy-btn" id="copyBtn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div class="prompt-output" id="promptOutput"></div>
            </div>
        </main>
    </div>
    <script>
        const DATA = {
            sitemap: {
                kitchen: {
                    name: 'Kitchen (–ö—É—Ö–Ω—è)', color: 'kitchen', icon: 'üç≥',
                    sections: [
                        { title: '–ú–µ–Ω—é –∏ —Ä–µ—Ü–µ–ø—Ç—ã', pages: [
                            { name: '–ú–µ–Ω—é', path: 'kitchen/menu.html', desc: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª—é–¥' },
                            { name: '–®–∞–±–ª–æ–Ω—ã –º–µ–Ω—é', path: 'kitchen/menu-templates.html', desc: '–ù–µ–¥–µ–ª—å–Ω—ã–µ –º–µ–Ω—é' },
                            { name: '–†–µ—Ü–µ–ø—Ç—ã', path: 'kitchen/recipes.html', desc: '129 —Ä–µ—Ü–µ–ø—Ç–æ–≤' },
                            { name: '–ü—Ä–æ–¥—É–∫—Ç—ã', path: 'kitchen/products.html', desc: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫' }
                        ]},
                        { title: '–°–∫–ª–∞–¥', pages: [
                            { name: '–û—Å—Ç–∞—Ç–∫–∏', path: 'stock/stock.html', desc: '–¢–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏' },
                            { name: '–ó–∞—è–≤–∫–∏', path: 'stock/requests.html', desc: '–ó–∞—è–≤–∫–∏ –æ—Ç –∫—É—Ö–Ω–∏' },
                            { name: '–ü—Ä–∏—ë–º–∫–∞', path: 'stock/receive.html', desc: '–û–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ' },
                            { name: '–í—ã–¥–∞—á–∞', path: 'stock/issue.html', desc: '–í—ã–¥–∞—á–∞ –Ω–∞ –∫—É—Ö–Ω—é' },
                            { name: '–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è', path: 'stock/inventory.html', desc: '–†–µ–≤–∏–∑–∏—è' }
                        ]}
                    ]
                },
                housing: {
                    name: 'Housing (–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ)', color: 'housing', icon: 'üè†',
                    sections: [
                        { title: '–í–∞–π—à–Ω–∞–≤—ã', pages: [
                            { name: '–í—Å–µ', path: 'vaishnavas/index.html', desc: '–ë–∞–∑–∞ –ª—é–¥–µ–π' },
                            { name: '–ì–æ—Å—Ç–∏', path: 'vaishnavas/guests.html', desc: '–ì–æ—Å—Ç–∏ —Ä–µ—Ç—Ä–∏—Ç–æ–≤' },
                            { name: '–ö–æ–º–∞–Ω–¥–∞', path: 'vaishnavas/team.html', desc: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏' }
                        ]},
                        { title: '–†–∞–∑–º–µ—â–µ–Ω–∏–µ', pages: [
                            { name: '–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ', path: 'vaishnavas/retreat-guests.html', desc: '–ò–º–ø–æ—Ä—Ç CSV' },
                            { name: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ', path: 'vaishnavas/preliminary.html', desc: '–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç' },
                            { name: '–ó–∞–µ–∑–¥—ã', path: 'placement/arrivals.html', desc: '–ü—Ä–∏–±—ã—Ç–∏—è' },
                            { name: '–í—ã–µ–∑–¥—ã', path: 'placement/departures.html', desc: '–û—Ç—ä–µ–∑–¥—ã' }
                        ]},
                        { title: '–†–µ—Å–µ–ø—à–µ–Ω', pages: [
                            { name: '–®–∞—Ö–º–∞—Ç–∫–∞', path: 'placement/timeline.html', desc: 'Timeline –∫–æ–º–Ω–∞—Ç' },
                            { name: '–£–±–æ—Ä–∫–∞', path: 'reception/cleaning.html', desc: '–ì—Ä–∞—Ñ–∏–∫ —É–±–æ—Ä–∫–∏' },
                            { name: '–ó–¥–∞–Ω–∏—è', path: 'reception/buildings.html', desc: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–¥–∞–Ω–∏–π' },
                            { name: '–ö–æ–º–Ω–∞—Ç—ã', path: 'reception/rooms.html', desc: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–Ω–∞—Ç' }
                        ]}
                    ]
                },
                common: {
                    name: '–û–±—â–µ–µ', color: 'common', icon: 'üïâÔ∏è',
                    sections: [
                        { title: '–ê—à—Ä–∞–º', pages: [
                            { name: '–†–µ—Ç—Ä–∏—Ç—ã', path: 'ashram/retreats.html', desc: '–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è' },
                            { name: '–ü—Ä–∞–∑–¥–Ω–∏–∫–∏', path: 'ashram/festivals.html', desc: '–ö–∞–ª–µ–Ω–¥–∞—Ä—å' }
                        ]},
                        { title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏', pages: [
                            { name: '–ü–µ—Ä–µ–≤–æ–¥—ã', path: 'settings/translations.html', desc: 'i18n' },
                            { name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', path: 'settings/users.html', desc: '–ê–∫–∫–∞—É–Ω—Ç—ã' }
                        ]}
                    ]
                }
            },
            processes: [
                { id: 'retreat', title: '–¶–∏–∫–ª —Ä–µ—Ç—Ä–∏—Ç–∞', subtitle: '–û—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –≤—ã–µ–∑–¥–∞ –≥–æ—Å—Ç–µ–π', color: 'housing',
                    steps: [
                        { num: 1, title: '–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ç—Ä–∏—Ç–∞', page: 'ashram/retreats.html', details: '–î–∞—Ç—ã, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–≤–µ—Ç' },
                        { num: 2, title: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è', page: 'vaishnavas/retreat-guests.html', details: '–ò–º–ø–æ—Ä—Ç –∏–∑ Google Forms' },
                        { num: 3, title: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ', page: 'vaishnavas/preliminary.html', details: '–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç' },
                        { num: 4, title: '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã', page: 'placement/arrivals.html', details: '–ó–∞–∫–∞–∑ —Ç–∞–∫—Å–∏' },
                        { num: 5, title: '–ó–∞—Å–µ–ª–µ–Ω–∏–µ', page: 'placement/timeline.html', details: 'Check-in' },
                        { num: 6, title: '–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ', page: 'reception/cleaning.html', details: '–£–±–æ—Ä–∫–∞, –ø–µ—Ä–µ—Å–µ–ª–µ–Ω–∏–µ' },
                        { num: 7, title: '–í—ã–µ–∑–¥', page: 'placement/departures.html', details: 'Check-out' }
                    ]
                },
                { id: 'kitchen', title: '–¶–∏–∫–ª –∫—É—Ö–Ω–∏', subtitle: '–û—Ç –º–µ–Ω—é –¥–æ –≥–æ—Ç–æ–≤–∫–∏', color: 'kitchen',
                    steps: [
                        { num: 1, title: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é', page: 'kitchen/menu.html', details: '–í—ã–±–æ—Ä –±–ª—é–¥' },
                        { num: 2, title: '–†–∞—Å—á—ë—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤', page: '‚Äî', details: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏' },
                        { num: 3, title: '–ó–∞—è–≤–∫–∞', page: 'stock/requests.html', details: '–°–ø–∏—Å–æ–∫ –∑–∞–∫—É–ø–æ–∫' },
                        { num: 4, title: '–ó–∞–∫—É–ø–∫–∞', page: '‚Äî', details: '–ü–æ–µ–∑–¥–∫–∞ –Ω–∞ —Ä—ã–Ω–æ–∫' },
                        { num: 5, title: '–ü—Ä–∏—ë–º–∫–∞', page: 'stock/receive.html', details: '–û–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ' },
                        { num: 6, title: '–í—ã–¥–∞—á–∞', page: 'stock/issue.html', details: '–ù–∞ –∫—É—Ö–Ω—é' },
                        { num: 7, title: '–ì–æ—Ç–æ–≤–∫–∞', page: 'kitchen/recipe.html', details: '–ü–æ —Ä–µ—Ü–µ–ø—Ç—É' }
                    ]
                }
            ],
            roles: [
                { name: '–†–µ—Å–µ–ø—à–µ–Ω', icon: 'üõéÔ∏è', color: 'var(--housing)', tasks: ['–ó–∞—Å–µ–ª–µ–Ω–∏–µ/–≤—ã–µ–∑–¥—ã', '–®–∞—Ö–º–∞—Ç–∫–∞', '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è', '–£–±–æ—Ä–∫–∞'] },
                { name: '–ü–æ–≤–∞—Ä', icon: 'üë®‚Äçüç≥', color: 'var(--kitchen)', tasks: ['–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é', '–†–∞–±–æ—Ç–∞ —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏', '–ó–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã'] },
                { name: '–ö–ª–∞–¥–æ–≤—â–∏–∫', icon: 'üì¶', color: 'var(--kitchen)', tasks: ['–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å—Ç–∞—Ç–∫–æ–≤', '–ü—Ä–∏—ë–º–∫–∞/–≤—ã–¥–∞—á–∞', '–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è'] },
                { name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä', icon: 'üìã', color: 'var(--common)', tasks: ['–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ç—Ä–∏—Ç–æ–≤', '–ò–º–ø–æ—Ä—Ç –≥–æ—Å—Ç–µ–π', '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã'] },
                { name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', icon: '‚öôÔ∏è', color: 'var(--text-muted)', tasks: ['–ü–µ—Ä–µ–≤–æ–¥—ã', '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏'] }
            ],
            entities: [
                { group: '–õ—é–¥–∏', color: 'var(--housing)', entities: [
                    { name: 'vaishnavas', fields: 'id, name, surname, spiritual_name, email, phone, is_team_member' },
                    { name: 'departments', fields: 'id, name_ru, name_en, name_hi' }
                ]},
                { group: '–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ', color: 'var(--housing)', entities: [
                    { name: 'buildings', fields: 'id, name_*, is_temporary, sort_order' },
                    { name: 'rooms', fields: 'id, number, building_id, capacity' },
                    { name: 'bookings', fields: 'id, room_id, check_in, check_out, status' },
                    { name: 'residents', fields: 'id, booking_id, vaishnava_id, room_id' }
                ]},
                { group: '–†–µ—Ç—Ä–∏—Ç—ã', color: 'var(--common)', entities: [
                    { name: 'retreats', fields: 'id, name_*, start_date, end_date, color' },
                    { name: 'retreat_registrations', fields: 'retreat_id, vaishnava_id, status' },
                    { name: 'guest_transfers', fields: 'vaishnava_id, direction, flight_datetime, taxi_status' }
                ]},
                { group: '–ö—É—Ö–Ω—è', color: 'var(--kitchen)', entities: [
                    { name: 'recipes', fields: 'id, name_*, category_id, cooking_time' },
                    { name: 'products', fields: 'id, name_*, unit, min_stock' },
                    { name: 'menu_items', fields: 'menu_day_id, recipe_id, meal_type, portions' },
                    { name: 'stock', fields: 'product_id, location_id, quantity' }
                ]}
            ],
            problems: [
                { type: 'problem', priority: 'critical', title: 'RLS —Ö–∞–æ—Å', desc: '163 –ø–æ–ª–∏—Ç–∏–∫–∏, 50 –º–∏–≥—Ä–∞—Ü–∏–π –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π', solution: '–†–µ–≤–∏–∑–∏—è –∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è (~3-4 —á–∞—Å–∞)' },
                { type: 'problem', priority: 'high', title: '756 inline onclick', desc: '–ù–∞—Ä—É—à–µ–Ω–∏–µ event delegation –ø–∞—Ç—Ç–µ—Ä–Ω–∞', solution: '–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ data-action (~1 –¥–µ–Ω—å)' },
                { type: 'problem', priority: 'high', title: '–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π', desc: '–†–µ—Å–µ–ø—à–µ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –æ –∑–∞–µ–∑–¥–∞—Ö, –∫—É—Ö–Ω—è ‚Äî –æ –∑–∞—è–≤–∫–∞—Ö', solution: 'Supabase Edge Functions + Telegram (~3-4 —á–∞—Å–∞)' },
                { type: 'problem', priority: 'medium', title: '–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ HTML', desc: 'timeline.html (2672 —Å—Ç—Ä–æ–∫–∏), menu.html (2072)', solution: '–†–∞–∑–±–∏—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (~4-6 —á–∞—Å–æ–≤)' },
                { type: 'problem', priority: 'medium', title: '–†—É—á–Ω–æ–π —Ä–∞—Å—á—ë—Ç –ø–æ—Ä—Ü–∏–π', desc: '–ü–æ–≤–∞—Ä –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å—á–∏—Ç–∞–µ—Ç –≤—Ä—É—á–Ω—É—é', solution: '–°–≤—è–∑—å –º–µ–Ω—é —Å bookings (~1-2 —á–∞—Å–∞)' },
                { type: 'opportunity', priority: 'high', title: 'Quick Wins', desc: 'Telegram + –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç + Realtime –∑–∞ 1 –¥–µ–Ω—å', solution: 'Supabase Edge Functions' },
                { type: 'opportunity', priority: 'medium', title: 'Vite + TypeScript', desc: '–£—Ö–æ–¥ –æ—Ç CDN, –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞', solution: '–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (~2-3 –¥–Ω—è)' },
                { type: 'notpriority', priority: 'low', title: '–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Rails', desc: '–ù–∏ –æ–¥–∏–Ω –∫—Ä–∏—Ç–µ—Ä–∏–π –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω', solution: '–ù–µ –Ω—É–∂–Ω–æ ‚Äî —Ç–µ–∫—É—â–∏–π —Å—Ç–µ–∫ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è' },
                { type: 'notpriority', priority: 'low', title: '–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ', desc: '–í–µ–± –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π, DaisyUI responsive', solution: '–ù–µ –Ω—É–∂–Ω–æ' },
                { type: 'notpriority', priority: 'low', title: '–ú–æ–¥—É–ª—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤', desc: '–û–≥—Ä–æ–º–Ω—ã–π –æ–±—ä—ë–º —Ä–∞–±–æ—Ç—ã', solution: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 1–°/Excel' }
            ],
            architecture: {
                stack: [
                    { name: 'Backend (Supabase)', icon: 'backend', emoji: '‚öôÔ∏è', items: [
                        { name: 'PostgreSQL', reason: '34 —Ç–∞–±–ª–∏—Ü—ã, 163 RLS' },
                        { name: 'Supabase Auth', reason: '–†–∞–±–æ—Ç–∞–µ—Ç' },
                        { name: 'Supabase Storage', reason: '–§–æ—Ç–æ, —Ñ–∞–π–ª—ã' },
                        { name: 'RLS', reason: '‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä–µ–≤–∏–∑–∏–∏' },
                        { name: 'Realtime', reason: '–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (planned)' }
                    ]},
                    { name: 'Frontend', icon: 'frontend', emoji: 'üé®', items: [
                        { name: 'Vanilla JS', reason: '11 —Ñ–∞–π–ª–æ–≤, ~2141 —Å—Ç—Ä–æ–∫' },
                        { name: 'DaisyUI 4.x', reason: '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã' },
                        { name: 'Tailwind CSS (CDN)', reason: '–°—Ç–∏–ª–∏' },
                        { name: 'Lucide Icons', reason: 'strokeWidth: 1.25' }
                    ]},
                    { name: '–£–ª—É—á—à–µ–Ω–∏—è (–ø–ª–∞–Ω)', icon: 'ai', emoji: 'üìà', items: [
                        { name: 'Telegram Bot', reason: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (~3-4—á)' },
                        { name: 'Supabase Realtime', reason: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (~2-3—á)' },
                        { name: 'Vite + TypeScript', reason: '–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (~2-3–¥)' },
                        { name: 'Event delegation', reason: '–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (~1–¥)' }
                    ]},
                    { name: 'Infrastructure', icon: 'infra', emoji: 'üöÄ', items: [
                        { name: 'GitHub Pages', reason: '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ' },
                        { name: 'Auto-deploy', reason: 'CI/CD –∏–∑ main' },
                        { name: 'in.rupaseva.com', reason: 'Production' },
                        { name: 'Supabase Free', reason: '–î–æ 500MB –ë–î' }
                    ]}
                ],
                aiFeatures: [
                    { title: 'Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', pattern: 'Supabase Edge Functions', desc: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–µ—Å–µ–ø—à–µ–Ω—É –æ –∑–∞–µ–∑–¥–∞—Ö, –∫—É—Ö–Ω–µ –æ –∑–∞—è–≤–∫–∞—Ö', protectedZone: 'Quick win ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∑–∞ 3-4 —á–∞—Å–∞' },
                    { title: '–ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ø–æ—Ä—Ü–∏–π', pattern: 'Menu + Bookings', desc: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –≥–æ—Å—Ç–µ–π', protectedZone: '–î–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∑–∞ 1-2 —á–∞—Å–∞' },
                    { title: 'Supabase Realtime', pattern: 'WebSocket sync', desc: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏', protectedZone: '–í–∫–ª—é—á–∏—Ç—å –≤ Supabase ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∑–∞ 2-3 —á–∞—Å–∞' }
                ],
                releases: [
                    { version: '‚Äî', name: 'üîß –§–ê–ó–ê 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è', tasks: '', time: '', phase: 'header' },
                    { version: '1.1', name: '–†–µ–≤–∏–∑–∏—è RLS', tasks: '–ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è 163 –ø–æ–ª–∏—Ç–∏–∫, —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π', time: '3-4 —á–∞—Å–∞', phase: 'mvp' },
                    { version: '1.2', name: '–û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤', tasks: '–£–¥–∞–ª–∏—Ç—å supabase-config.js (–¥—É–±–ª–∏–∫–∞—Ç)', time: '10 –º–∏–Ω', phase: 'mvp' },
                    { version: '1.3', name: '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', tasks: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤, onboarding', time: '1-2 —á–∞—Å–∞', phase: 'mvp' },
                    { version: '‚Äî', name: '‚ö° –§–ê–ó–ê 2: Quick Wins', tasks: '', time: '', phase: 'header' },
                    { version: '2.1', name: 'Telegram', tasks: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–µ–∑–¥–∞—Ö –∏ –∑–∞—è–≤–∫–∞—Ö', time: '3-4 —á–∞—Å–∞', phase: 'ai' },
                    { version: '2.2', name: '–ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç', tasks: '–ü–æ—Ä—Ü–∏–∏ = –∑–∞—Å–µ–ª—ë–Ω–Ω—ã–µ –≥–æ—Å—Ç–∏', time: '1-2 —á–∞—Å–∞', phase: 'ai' },
                    { version: '2.3', name: 'Realtime', tasks: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫', time: '2-3 —á–∞—Å–∞', phase: 'ai' },
                    { version: 'üöÄ', name: 'PRODUCTION READY', tasks: '–í—Å–µ quick wins —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã', time: '~1-2 –¥–Ω—è', phase: 'milestone' },
                    { version: '‚Äî', name: 'üì¶ –§–ê–ó–ê 3: Vite + TS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)', tasks: '', time: '', phase: 'header' },
                    { version: '3.1', name: 'Vite setup', tasks: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, npm install', time: '1-2 —á–∞—Å–∞', phase: 'future' },
                    { version: '3.2', name: 'TypeScript', tasks: '–ü–µ—Ä–µ–Ω–æ—Å JS ‚Üí TS', time: '3-4 —á–∞—Å–∞', phase: 'future' },
                    { version: '3.3', name: '–ú–∏–≥—Ä–∞—Ü–∏—è', tasks: 'HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã', time: '1 –¥–µ–Ω—å', phase: 'future' },
                    { version: '‚Äî', name: 'üõ§Ô∏è Rails (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)', tasks: '', time: '', phase: 'header' },
                    { version: '‚Äî', name: '–ö—Ä–∏—Ç–µ—Ä–∏–∏:', tasks: '–û–ø–ª–∞—Ç–∞, >3 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, >100K —é–∑–µ—Ä–æ–≤', time: '~11 –¥–Ω–µ–π', phase: 'future' }
                ]
            }
        };

        const state = { view: 'sitemap', filters: { kitchen: true, housing: true, common: true }, comments: [] };

        function render() {
            // Sitemap
            const grid = document.getElementById('sitemapGrid');
            grid.textContent = '';
            Object.entries(DATA.sitemap).forEach(([key, mod]) => {
                if (!state.filters[key]) return;
                const card = document.createElement('div');
                card.className = 'module-card';
                const header = document.createElement('div');
                header.className = 'module-header ' + mod.color;
                header.textContent = mod.icon + ' ' + mod.name;
                card.appendChild(header);
                const body = document.createElement('div');
                body.className = 'module-body';
                mod.sections.forEach(sec => {
                    const title = document.createElement('div');
                    title.className = 'section-title';
                    title.textContent = sec.title;
                    body.appendChild(title);
                    const list = document.createElement('ul');
                    list.className = 'page-list';
                    sec.pages.forEach(p => {
                        const li = document.createElement('li');
                        li.className = 'page-item';
                        const span1 = document.createElement('span');
                        span1.textContent = p.name;
                        const span2 = document.createElement('span');
                        span2.className = 'page-path';
                        span2.textContent = p.path;
                        li.appendChild(span1);
                        li.appendChild(span2);
                        list.appendChild(li);
                    });
                    body.appendChild(list);
                });
                card.appendChild(body);
                grid.appendChild(card);
            });

            // Processes
            const procContainer = document.getElementById('processesContainer');
            procContainer.textContent = '';
            DATA.processes.forEach(proc => {
                const card = document.createElement('div');
                card.className = 'process-card';
                const title = document.createElement('div');
                title.className = 'process-title';
                const dot = document.createElement('span');
                dot.className = 'color-dot';
                dot.style.background = 'var(--' + proc.color + ')';
                title.appendChild(dot);
                title.appendChild(document.createTextNode(proc.title));
                card.appendChild(title);
                const sub = document.createElement('div');
                sub.className = 'process-subtitle';
                sub.textContent = proc.subtitle;
                card.appendChild(sub);
                const steps = document.createElement('div');
                steps.className = 'process-steps';
                proc.steps.forEach(s => {
                    const step = document.createElement('div');
                    step.className = 'process-step';
                    const num = document.createElement('div');
                    num.className = 'step-number ' + proc.color;
                    num.textContent = s.num;
                    step.appendChild(num);
                    const t = document.createElement('div');
                    t.className = 'step-title';
                    t.textContent = s.title;
                    step.appendChild(t);
                    const pg = document.createElement('div');
                    pg.className = 'step-page';
                    pg.textContent = s.page;
                    step.appendChild(pg);
                    const det = document.createElement('div');
                    det.className = 'step-details';
                    det.textContent = s.details;
                    step.appendChild(det);
                    steps.appendChild(step);
                });
                card.appendChild(steps);
                procContainer.appendChild(card);
            });

            // Roles
            const rolesGrid = document.getElementById('rolesGrid');
            rolesGrid.textContent = '';
            DATA.roles.forEach(r => {
                const card = document.createElement('div');
                card.className = 'role-card';
                const icon = document.createElement('div');
                icon.className = 'role-icon';
                icon.style.background = r.color + '20';
                icon.style.color = r.color;
                icon.textContent = r.icon;
                card.appendChild(icon);
                const name = document.createElement('div');
                name.className = 'role-name';
                name.textContent = r.name;
                card.appendChild(name);
                const tasks = document.createElement('ul');
                tasks.className = 'role-tasks';
                r.tasks.forEach(t => {
                    const li = document.createElement('li');
                    li.textContent = t;
                    tasks.appendChild(li);
                });
                card.appendChild(tasks);
                rolesGrid.appendChild(card);
            });

            // Entities
            const entContainer = document.getElementById('entitiesContainer');
            entContainer.textContent = '';
            DATA.entities.forEach(g => {
                const group = document.createElement('div');
                group.className = 'entity-group';
                const title = document.createElement('div');
                title.className = 'entity-group-title';
                title.textContent = g.group;
                group.appendChild(title);
                g.entities.forEach(e => {
                    const card = document.createElement('div');
                    card.className = 'entity-card';
                    const name = document.createElement('div');
                    name.className = 'entity-name';
                    name.textContent = e.name;
                    card.appendChild(name);
                    const fields = document.createElement('div');
                    fields.className = 'entity-fields';
                    fields.textContent = e.fields;
                    card.appendChild(fields);
                    group.appendChild(card);
                });
                entContainer.appendChild(group);
            });

            // Problems
            const probGrid = document.getElementById('problemsGrid');
            probGrid.textContent = '';
            DATA.problems.forEach(p => {
                const card = document.createElement('div');
                let cardClass = 'problem-card';
                if (p.priority === 'critical') cardClass += ' critical';
                else if (p.type === 'opportunity') cardClass += ' opportunity';
                else if (p.type === 'notpriority') cardClass += ' notpriority';
                card.className = cardClass;
                const header = document.createElement('div');
                header.className = 'problem-header';
                const title = document.createElement('div');
                title.className = 'problem-title';
                title.textContent = p.title;
                header.appendChild(title);
                const priority = document.createElement('span');
                const prioClass = p.priority === 'critical' ? ' critical' : p.priority === 'medium' ? ' medium' : p.priority === 'low' ? ' low' : '';
                priority.className = 'problem-priority' + prioClass;
                const prioText = { critical: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π', high: '–í—ã—Å–æ–∫–∏–π', medium: '–°—Ä–µ–¥–Ω–∏–π', low: '–ù–∏–∑–∫–∏–π' };
                priority.textContent = prioText[p.priority] || p.priority;
                header.appendChild(priority);
                card.appendChild(header);
                const desc = document.createElement('div');
                desc.className = 'problem-description';
                desc.textContent = p.desc;
                card.appendChild(desc);
                const sol = document.createElement('div');
                sol.className = 'problem-solution';
                const strong = document.createElement('strong');
                strong.textContent = '–†–µ—à–µ–Ω–∏–µ: ';
                sol.appendChild(strong);
                sol.appendChild(document.createTextNode(p.solution));
                card.appendChild(sol);
                probGrid.appendChild(card);
            });

            // Architecture - Tech Stack
            const techGrid = document.getElementById('techGrid');
            if (techGrid) {
                techGrid.textContent = '';
                DATA.architecture.stack.forEach(cat => {
                    const card = document.createElement('div');
                    card.className = 'tech-card';
                    const header = document.createElement('div');
                    header.className = 'tech-card-header';
                    const icon = document.createElement('div');
                    icon.className = 'tech-icon ' + cat.icon;
                    icon.textContent = cat.emoji;
                    header.appendChild(icon);
                    const title = document.createElement('div');
                    title.className = 'tech-card-title';
                    title.textContent = cat.name;
                    header.appendChild(title);
                    card.appendChild(header);
                    const list = document.createElement('ul');
                    list.className = 'tech-list';
                    cat.items.forEach(item => {
                        const li = document.createElement('li');
                        const name = document.createElement('span');
                        name.className = 'tech-name';
                        name.textContent = item.name;
                        li.appendChild(name);
                        const reason = document.createElement('span');
                        reason.className = 'tech-reason';
                        reason.textContent = item.reason;
                        li.appendChild(reason);
                        list.appendChild(li);
                    });
                    card.appendChild(list);
                    techGrid.appendChild(card);
                });
            }

            // Architecture - AI Features
            const aiFeatures = document.getElementById('aiFeatures');
            if (aiFeatures) {
                aiFeatures.textContent = '';
                DATA.architecture.aiFeatures.forEach(f => {
                    const card = document.createElement('div');
                    card.className = 'ai-feature-card';
                    const header = document.createElement('div');
                    header.className = 'ai-feature-header';
                    const title = document.createElement('div');
                    title.className = 'ai-feature-title';
                    title.textContent = f.title;
                    header.appendChild(title);
                    const pattern = document.createElement('div');
                    pattern.className = 'ai-feature-pattern';
                    pattern.textContent = f.pattern;
                    header.appendChild(pattern);
                    card.appendChild(header);
                    const desc = document.createElement('div');
                    desc.className = 'ai-feature-desc';
                    desc.textContent = f.desc;
                    card.appendChild(desc);
                    const details = document.createElement('div');
                    details.className = 'ai-feature-details';
                    const strong = document.createElement('strong');
                    strong.textContent = 'Protected Zone: ';
                    details.appendChild(strong);
                    details.appendChild(document.createTextNode(f.protectedZone));
                    card.appendChild(details);
                    aiFeatures.appendChild(card);
                });
            }

            // Architecture - Releases
            const releasesContainer = document.getElementById('releasesContainer');
            if (releasesContainer) {
                releasesContainer.textContent = '';
                DATA.architecture.releases.forEach(r => {
                    if (r.phase === 'header') {
                        const header = document.createElement('div');
                        header.style.cssText = 'font-size: 14px; font-weight: 600; margin-top: 20px; margin-bottom: 8px; color: var(--text-muted);';
                        header.textContent = r.name;
                        releasesContainer.appendChild(header);
                        return;
                    }
                    const card = document.createElement('div');
                    card.className = 'release-card';
                    if (r.phase === 'milestone') card.style.cssText = 'background: var(--tech); border-color: var(--tech);';
                    if (r.phase === 'ai') card.style.borderLeftColor = 'var(--ai)';
                    if (r.phase === 'future') card.style.opacity = '0.6';
                    const version = document.createElement('div');
                    version.className = 'release-version';
                    if (r.phase === 'milestone') version.style.color = '#000';
                    version.textContent = r.version;
                    card.appendChild(version);
                    const name = document.createElement('div');
                    name.className = 'release-name';
                    if (r.phase === 'milestone') name.style.color = '#000';
                    name.textContent = r.name;
                    card.appendChild(name);
                    const tasks = document.createElement('div');
                    tasks.className = 'release-tasks';
                    if (r.phase === 'milestone') tasks.style.color = 'rgba(0,0,0,0.7)';
                    tasks.textContent = r.tasks;
                    card.appendChild(tasks);
                    if (r.time) {
                        const time = document.createElement('div');
                        time.className = 'release-time';
                        if (r.phase === 'milestone') time.style.cssText = 'background: rgba(0,0,0,0.2); color: #000;';
                        time.textContent = r.time;
                        card.appendChild(time);
                    }
                    releasesContainer.appendChild(card);
                });
            }

            updatePrompt();
        }

        function updatePrompt() {
            const output = document.getElementById('promptOutput');
            let text = '–°–∏—Å—Ç–µ–º–∞ –®–†–°–ö (Sri Rupa Seva Kunja) ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—à—Ä–∞–º–æ–º.\n\n';
            text += '–¢–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª: ' + { sitemap: '–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞', processes: '–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã', roles: '–†–æ–ª–∏', entities: '–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö', problems: '–ü—Ä–æ–±–ª–µ–º—ã', architecture: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞' }[state.view] + '\n\n';
            
            if (state.view === 'sitemap') {
                Object.entries(DATA.sitemap).forEach(([k, m]) => {
                    if (!state.filters[k]) return;
                    text += '## ' + m.name + '\n';
                    m.sections.forEach(s => {
                        text += '**' + s.title + ':**\n';
                        s.pages.forEach(p => text += '- ' + p.name + ' (' + p.path + ')\n');
                    });
                    text += '\n';
                });
            } else if (state.view === 'processes') {
                DATA.processes.forEach(p => {
                    text += '## ' + p.title + '\n';
                    p.steps.forEach(s => text += s.num + '. ' + s.title + ' ‚Üí ' + s.page + '\n');
                    text += '\n';
                });
            } else if (state.view === 'roles') {
                DATA.roles.forEach(r => {
                    text += '## ' + r.name + '\n';
                    r.tasks.forEach(t => text += '- ' + t + '\n');
                    text += '\n';
                });
            } else if (state.view === 'entities') {
                DATA.entities.forEach(g => {
                    text += '## ' + g.group + '\n';
                    g.entities.forEach(e => text += '- **' + e.name + '**: ' + e.fields + '\n');
                    text += '\n';
                });
            } else if (state.view === 'problems') {
                text += '## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n';
                DATA.problems.filter(p => p.priority === 'critical').forEach(p => text += '- **' + p.title + '**: ' + p.solution + '\n');
                text += '\n## –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã\n';
                DATA.problems.filter(p => p.type === 'problem' && p.priority !== 'critical').forEach(p => text += '- ' + p.title + ' [' + p.priority + ']: ' + p.solution + '\n');
                text += '\n## Quick wins\n';
                DATA.problems.filter(p => p.type === 'opportunity').forEach(p => text += '- ' + p.title + ': ' + p.solution + '\n');
                text += '\n## –ù–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞)\n';
                DATA.problems.filter(p => p.type === 'notpriority').forEach(p => text += '- ' + p.title + ' ‚Äî ' + p.solution + '\n');
            } else if (state.view === 'architecture') {
                text += '## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π\n';
                DATA.architecture.stack.forEach(cat => {
                    text += '**' + cat.name + ':**\n';
                    cat.items.forEach(item => text += '- ' + item.name + ' ‚Äî ' + item.reason + '\n');
                    text += '\n';
                });
                text += '## AI-—Ñ–∏—á–∏\n';
                DATA.architecture.aiFeatures.forEach(f => {
                    text += '**' + f.title + '** (' + f.pattern + ')\n';
                    text += f.desc + '\n';
                    text += 'Protected Zone: ' + f.protectedZone + '\n\n';
                });
                text += '## –ü–ª–∞–Ω —Ä–µ–ª–∏–∑–æ–≤\n\n';
                text += '### –≠–¢–ê–ü 1: MVP –±–µ–∑ AI (~8.5 –¥–Ω–µ–π)\n';
                DATA.architecture.releases.filter(r => r.phase === 'mvp').forEach(r => {
                    text += r.version + ' ' + r.name + ' [' + r.time + '] ‚Äî ' + r.tasks + '\n';
                });
                text += '‚Üí 1.0 –†–ï–õ–ò–ó MVP\n\n';
                text += '### –≠–¢–ê–ü 2: AI Layer (~3 –¥–Ω—è)\n';
                DATA.architecture.releases.filter(r => r.phase === 'ai').forEach(r => {
                    text += r.version + ' ' + r.name + ' [' + r.time + '] ‚Äî ' + r.tasks + '\n';
                });
                text += '‚Üí 2.0 –†–ï–õ–ò–ó AI\n\n';
                text += '### –≠–¢–ê–ü 3: –†–∞–∑–≤–∏—Ç–∏–µ\n';
                text += '–£–ª—É—á—à–µ–Ω–∏—è –ø–æ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n';
            }
            output.textContent = text;
        }

        function switchView(view) {
            state.view = view;
            localStorage.setItem('srsk-playground-view', view);
            document.querySelectorAll('.view-tab').forEach(t => t.classList.toggle('active', t.dataset.view === view));
            document.querySelectorAll('.view').forEach(v => v.classList.toggle('active', v.id === view + 'View'));
            document.getElementById('sitemapFilters').style.display = view === 'sitemap' ? 'block' : 'none';
            updatePrompt();
        }

        // Restore saved view on load
        const savedView = localStorage.getItem('srsk-playground-view');
        if (savedView && document.getElementById(savedView + 'View')) {
            switchView(savedView);
        }

        document.querySelectorAll('.view-tab').forEach(t => t.addEventListener('click', () => switchView(t.dataset.view)));
        document.getElementById('filterKitchen').addEventListener('change', e => { state.filters.kitchen = e.target.checked; render(); });
        document.getElementById('filterHousing').addEventListener('change', e => { state.filters.housing = e.target.checked; render(); });
        document.getElementById('filterCommon').addEventListener('change', e => { state.filters.common = e.target.checked; render(); });
        document.getElementById('copyBtn').addEventListener('click', () => {
            navigator.clipboard.writeText(document.getElementById('promptOutput').textContent).then(() => {
                const btn = document.getElementById('copyBtn');
                btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.classList.add('copied');
                setTimeout(() => { btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'; btn.classList.remove('copied'); }, 2000);
            });
        });

        render();

        // Architecture Diagram Tooltips
        const tooltipData = {
            // –°–ï–ô–ß–ê–° (–ª–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)
            'now-client': { title: '–ö–ª–∏–µ–Ω—Ç—ã (–°–ï–ô–ß–ê–°)', desc: '5 —Ä–æ–ª–µ–π: —Ä–µ—Å–µ–ø—à–µ–Ω, –ø–æ–≤–∞—Ä, –∫–ª–∞–¥–æ–≤—â–∏–∫, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä, –∞–¥–º–∏–Ω. –ë—Ä–∞—É–∑–µ—Ä + Vanilla JS' },
            'now-github': { title: 'GitHub Pages', desc: '–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥. Auto-deploy –∏–∑ main –≤–µ—Ç–∫–∏. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ.' },
            'now-html': { title: '45 HTML —Å—Ç—Ä–∞–Ω–∏—Ü', desc: 'Vanilla JS + DaisyUI + Tailwind. –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã (timeline 2672 —Å—Ç—Ä–æ–∫–∏)' },
            'now-cdn': { title: '‚ö†Ô∏è CDN –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏', desc: 'Tailwind, DaisyUI, Supabase –≥—Ä—É–∑—è—Ç—Å—è –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ï—Å–ª–∏ CDN —É–ø–∞–¥—ë—Ç ‚Äî —Å–∞–π—Ç —Å–ª–æ–º–∞–µ—Ç—Å—è.' },
            'now-onclick': { title: '‚ö†Ô∏è 756 inline onclick', desc: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥. –ù–∞—Ä—É—à–µ–Ω–∏–µ event delegation –ø–∞—Ç—Ç–µ—Ä–Ω–∞. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ~1 –¥–µ–Ω—å.' },
            'now-supabase': { title: 'Supabase (–°–ï–ô–ß–ê–°)', desc: 'Backend as a Service. PostgreSQL + Auth + Storage. Realtime –∏ Edge Functions –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.' },
            'now-postgres': { title: 'PostgreSQL', desc: '34 —Ç–∞–±–ª–∏—Ü—ã, 68 –∏–Ω–¥–µ–∫—Å–æ–≤. –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.' },
            'now-rls': { title: '‚ö†Ô∏è 163 RLS –ø–æ–ª–∏—Ç–∏–∫', desc: '–•–ê–û–°. –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 –º–∏–≥—Ä–∞—Ü–∏–π (072-097) ‚Äî –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π. –ù—É–∂–Ω–∞ —Ä–µ–≤–∏–∑–∏—è ~3-4 —á–∞—Å–∞.' },
            'now-unused': { title: '–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è', desc: 'Supabase Realtime –∏ Edge Functions –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã. Quick wins!' },

            // –ü–û–°–õ–ï (–ø—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)
            'after-client': { title: '–ö–ª–∏–µ–Ω—Ç—ã (–ü–û–°–õ–ï)', desc: '–¢–µ –∂–µ 5 —Ä–æ–ª–µ–π + push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram. Realtime —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.' },
            'after-github': { title: 'GitHub Pages + Vite', desc: '–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Vite. –õ–æ–∫–∞–ª—å–Ω—ã–π bundle, TypeScript, tree-shaking.' },
            'after-vite': { title: 'TypeScript + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã', desc: '–¢–∏–ø–∏–∑–∞—Ü–∏—è, —Ä–∞–∑–±–∏—Ç—ã–µ –º–æ–Ω–æ–ª–∏—Ç—ã, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ~2-3 –¥–Ω—è.' },
            'after-bundle': { title: '‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π bundle', desc: 'npm install –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ CDN —É–ø–∞–ª. –ï–¥–∏–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫.' },
            'after-events': { title: '‚úÖ Event delegation', desc: 'data-action –≤–º–µ—Å—Ç–æ onclick. –ß–∏—Å—Ç—ã–π –∫–æ–¥, –ø—Ä–æ—â–µ –æ—Ç–ª–∞–¥–∫–∞, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.' },
            'after-supabase': { title: 'Supabase (–ü–û–°–õ–ï)', desc: '–ü–æ–ª–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π: Realtime, Edge Functions, –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π RLS.' },
            'after-rls': { title: '‚úÖ RLS –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω', desc: '–ï–¥–∏–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤. –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ. ~3-4 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã.' },
            'after-realtime': { title: '‚úÖ Supabase Realtime', desc: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏. ~2-3 —á–∞—Å–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å.' },
            'after-edge': { title: '‚úÖ Edge Functions', desc: '–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞ Deno. Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ø–æ—Ä—Ü–∏–π.' },
            'after-telegram': { title: '‚úÖ Telegram Bot', desc: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –∑–∞–µ–∑–¥—ã ‚Üí —Ä–µ—Å–µ–ø—à–µ–Ω, –∑–∞—è–≤–∫–∏ ‚Üí –∫—É—Ö–Ω—è/—Å–∫–ª–∞–¥. ~3-4 —á–∞—Å–∞.' },
            'after-ai': { title: 'AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)', desc: '–£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç, –∞–≤—Ç–æ–º–µ–Ω—é. –ß–µ—Ä–µ–∑ OpenRouter/OpenAI. –ë—É–¥—É—â–µ–µ.' }
        };

        const tooltip = document.getElementById('archTooltip');
        const tooltipTitle = document.getElementById('tooltipTitle');
        const tooltipDesc = document.getElementById('tooltipDesc');

        document.querySelectorAll('[data-box], [data-layer]').forEach(el => {
            el.addEventListener('mouseenter', (e) => {
                const key = el.dataset.box || el.dataset.layer;
                const data = tooltipData[key];
                if (data) {
                    tooltipTitle.textContent = data.title;
                    tooltipDesc.textContent = data.desc;
                    tooltip.classList.add('visible');
                }
            });
            el.addEventListener('mousemove', (e) => {
                tooltip.style.left = (e.clientX + 15) + 'px';
                tooltip.style.top = (e.clientY + 15) + 'px';
            });
            el.addEventListener('mouseleave', () => {
                tooltip.classList.remove('visible');
            });
        });
    </script>
</body>
</html>
